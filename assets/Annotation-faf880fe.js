import{j as a}from"./jsx-runtime-50395f49.js";import{r as n}from"./index-9fa1aa67.js";import{r as C}from"./index-5b53e37f.js";import{b as Z,c as $,f as g}from"./Map-415eb6e1.js";import{C as f}from"./CalloutContainer-d701ef6f.js";function ee({latitude:k,longitude:y,title:x="",subtitle:S="",accessibilityLabel:P=null,size:M=void 0,paddingTop:b=0,paddingRight:w=0,paddingBottom:T=0,paddingLeft:q=0,anchorOffsetX:j=0,anchorOffsetY:V=0,selected:D=!1,onSelect:O=void 0,onDeselect:N=void 0,onDragStart:B=void 0,onDragEnd:F=void 0,onDragging:I=void 0,animates:z=!0,appearanceAnimation:L="",visible:_=!0,clusteringIdentifier:X=null,displayPriority:h=void 0,collisionMode:v=void 0,calloutElement:i=void 0,calloutContent:l=void 0,calloutLeftAccessory:r=void 0,calloutRightAccessory:s=void 0,calloutEnabled:Y=void 0,calloutOffsetX:A=0,calloutOffsetY:R=0,draggable:K=!1,enabled:W=!0,children:G}){const[e,H]=n.useState(null),E=n.useMemo(()=>document.createElement("div"),[]),u=n.useContext(Z);n.useEffect(()=>{e&&(e.padding=new mapkit.Padding(b,w,T,q))},[e,b,w,T,q]),n.useEffect(()=>{e&&(e.anchorOffset=new DOMPoint(j,V))},[e,j,V]),n.useEffect(()=>{e&&(e.calloutOffset=new DOMPoint(A,R))},[e,A,R]);const d=n.useRef(null),p=n.useRef(null),c=n.useRef(null),m=n.useRef(null);n.useLayoutEffect(()=>{if(!e)return;const t={};return i&&m.current!==null&&(t.calloutElementForAnnotation=()=>m.current),r&&d.current!==null&&(t.calloutLeftAccessoryForAnnotation=()=>d.current),s&&p.current!==null&&(t.calloutRightAccessoryForAnnotation=()=>p.current),l&&c.current!==null&&(t.calloutContentForAnnotation=()=>c.current),Object.keys(t).length>0?e.callout=t:delete e.callout,()=>{delete e.callout}},[e,i,r,s,l,m.current,d.current,p.current,c.current]),n.useEffect(()=>{e&&(v==="Circle"?e.collisionMode=mapkit.Annotation.CollisionMode.Circle:v==="Rectangle"?e.collisionMode=mapkit.Annotation.CollisionMode.Rectangle:delete e.collisionMode)},[e,v]),n.useEffect(()=>{if(e){if(h===void 0){delete e.displayPriority;return}e.displayPriority=$(h)}},[e,h]),Object.entries({title:x,subtitle:S,accessibilityLabel:P,size:M,selected:D,animates:z,appearanceAnimation:L,draggable:K,enabled:W,visible:_,clusteringIdentifier:X,calloutEnabled:Y}).forEach(([t,o])=>{n.useEffect(()=>{if(e){if(o===void 0){delete e[t];return}e[t]=o}},[e,o])});const J=()=>{};[{name:"select",handler:O},{name:"deselect",handler:N},{name:"drag-start",handler:B}].forEach(({name:t,handler:o})=>{g(e,t,o,J)});const Q=()=>({latitude:e.coordinate.latitude,longitude:e.coordinate.longitude}),U=t=>({latitude:t.coordinate.latitude,longitude:t.coordinate.longitude});return g(e,"drag-end",F,Q),g(e,"dragging",I,U),n.useLayoutEffect(()=>{if(u===null)return;const t=new mapkit.Annotation(new mapkit.Coordinate(k,y),()=>E);return u.addAnnotation(t),H(t),()=>{u.removeAnnotation(t)}},[u,k,y]),a.jsxs(a.Fragment,{children:[C.createPortal(a.jsxs("div",{style:{display:"none"},children:[l!==void 0&&a.jsx(f,{ref:c,type:"content",children:l}),r!==void 0&&a.jsx(f,{ref:d,type:"left",children:r}),s!==void 0&&a.jsx(f,{ref:p,type:"right",children:s}),i!==void 0&&a.jsx(f,{ref:m,type:"container",children:i})]}),document.body),C.createPortal(G,E)]})}ee.__docgenInfo={description:"",methods:[],displayName:"Annotation",props:{latitude:{required:!0,tsType:{name:"number"},description:"The latitude in degrees."},longitude:{required:!0,tsType:{name:"number"},description:"The longitude in degrees."},title:{required:!1,tsType:{name:"string"},description:`The text to display in the annotation’s callout.
@see {@link https://developer.apple.com/documentation/mapkitjs/annotation/2973835-title}`,defaultValue:{value:"''",computed:!1}},subtitle:{required:!1,tsType:{name:"string"},description:`The text to display as a subtitle on the second line of an annotation’s callout.
@see {@link https://developer.apple.com/documentation/mapkitjs/annotation/2973834-subtitle}`,defaultValue:{value:"''",computed:!1}},accessibilityLabel:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:`Accessibility text for the annotation.
@see {@link https://developer.apple.com/documentation/mapkitjs/annotation/2973814-accessibilitylabel}`,defaultValue:{value:"null",computed:!1}},size:{required:!1,tsType:{name:"signature",type:"object",raw:"{ width: number; height: number }",signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}}]}},description:"The desired dimensions of the annotation, in CSS pixels.\n@see {@link https://developer.apple.com/documentation/mapkitjs/mapkit/annotation/2973833-size}\n@example `{width: 100, height: 100}`",defaultValue:{value:"undefined",computed:!0}},paddingTop:{required:!1,tsType:{name:"number"},description:`The amount of padding, in CSS pixels, to inset the map from the top edge.
@see {@link https://developer.apple.com/documentation/mapkitjs/mapkit/padding}`,defaultValue:{value:"0",computed:!1}},paddingRight:{required:!1,tsType:{name:"number"},description:`The amount of padding, in CSS pixels, to inset the map from the right edge.
@see {@link https://developer.apple.com/documentation/mapkitjs/mapkit/padding}`,defaultValue:{value:"0",computed:!1}},paddingBottom:{required:!1,tsType:{name:"number"},description:`The amount of padding, in CSS pixels, to inset the map from the bottom edge.
@see {@link https://developer.apple.com/documentation/mapkitjs/mapkit/padding}`,defaultValue:{value:"0",computed:!1}},paddingLeft:{required:!1,tsType:{name:"number"},description:`The amount of padding, in CSS pixels, to inset the map from the left edge.
@see {@link https://developer.apple.com/documentation/mapkitjs/mapkit/padding}`,defaultValue:{value:"0",computed:!1}},anchorOffsetX:{required:!1,tsType:{name:"number"},description:`An X offset that changes the annotation’s default anchor point.
@see {@link https://developer.apple.com/documentation/mapkitjs/mapkit/annotation/2973816-anchoroffset}`,defaultValue:{value:"0",computed:!1}},anchorOffsetY:{required:!1,tsType:{name:"number"},description:`An Y offset that changes the annotation’s default anchor point.
@see {@link https://developer.apple.com/documentation/mapkitjs/mapkit/annotation/2973816-anchoroffset}`,defaultValue:{value:"0",computed:!1}},selected:{required:!1,tsType:{name:"boolean"},description:"A Boolean value that determines whether the map displays the annotation in a selected state.",defaultValue:{value:"false",computed:!1}},onSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Event fired when the annotation is selected.",defaultValue:{value:"undefined",computed:!0}},onDeselect:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Event fired when the annotation is deselected.",defaultValue:{value:"undefined",computed:!0}},onDragStart:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Event fired when the user starts a drag for the annotation.",defaultValue:{value:"undefined",computed:!0}},onDragEnd:{required:!1,tsType:{name:"signature",type:"function",raw:"(newPosition: Coordinate) => void",signature:{arguments:[{type:{name:"Coordinate"},name:"newPosition"}],return:{name:"void"}}},description:"Event fired when the user ends a drag for the annotation.",defaultValue:{value:"undefined",computed:!0}},onDragging:{required:!1,tsType:{name:"signature",type:"function",raw:"(newPosition: Coordinate) => void",signature:{arguments:[{type:{name:"Coordinate"},name:"newPosition"}],return:{name:"void"}}},description:"Event fired when the user a drags the annotation.",defaultValue:{value:"undefined",computed:!0}},animates:{required:!1,tsType:{name:"boolean"},description:`A Boolean value that determines whether the map animates the annotation.
@see {@link https://developer.apple.com/documentation/mapkitjs/mapkit/annotation/2973817-animates}`,defaultValue:{value:"true",computed:!1}},appearanceAnimation:{required:!1,tsType:{name:"string"},description:`A CSS animation that runs when the annotation appears on the map.
@see {@link https://developer.apple.com/documentation/mapkitjs/mapkit/annotation/2973818-appearanceanimation}`,defaultValue:{value:"''",computed:!1}},draggable:{required:!1,tsType:{name:"boolean"},description:`A Boolean value that determines whether the user can drag the annotation.
@see {@link https://developer.apple.com/documentation/mapkitjs/mapkit/annotation/2973826-draggable}`,defaultValue:{value:"false",computed:!1}},enabled:{required:!1,tsType:{name:"boolean"},description:`A Boolean value that determines whether the annotation responds to user interaction.
@see {@link https://developer.apple.com/documentation/mapkitjs/mapkit/annotation/2973828-enabled}`,defaultValue:{value:"true",computed:!1}},visible:{required:!1,tsType:{name:"boolean"},description:`A Boolean value that determines whether the annotation is visible or hidden.
@see {@link https://developer.apple.com/documentation/mapkitjs/annotationconstructoroptions/2991172-visible}`,defaultValue:{value:"true",computed:!1}},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"React children to render inside the annotation."},clusteringIdentifier:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:`A shared identifier for all of the member annotations.
An annotation needs a clusteringIdentifier to be part of an annotation cluster.
@see {@link https://developer.apple.com/documentation/mapkitjs/mapkit/annotations/clustering_annotations}`,defaultValue:{value:"null",computed:!1}},collisionMode:{required:!1,tsType:{name:"union",raw:"'Rectangle' | 'Circle' | null",elements:[{name:"literal",value:"'Rectangle'"},{name:"literal",value:"'Circle'"},{name:"null"}]},description:`A mode that determines the shape of the collision frame.
Rectangle | Circle | None
@see {@link https://developer.apple.com/documentation/mapkitjs/mapkit/annotation/2973822-collisionmode}
@see {@link https://developer.apple.com/documentation/mapkitjs/mapkit/annotation/collisionmode}`,defaultValue:{value:"undefined",computed:!0}},displayPriority:{required:!1,tsType:{name:"union",raw:"number | 'low' | 'high' | 'required'",elements:[{name:"number"},{name:"literal",value:"'low'"},{name:"literal",value:"'high'"},{name:"literal",value:"'required'"}]},description:'A numeric hint that the map uses to prioritize how it displays annotations.\n\nIs either any number from `0` to `1000`,\nor a preset value: `"low"` (250), `"high"` (750), or `"required"` (1000).\n\n@see {@link https://developer.apple.com/documentation/mapkitjs/mapkit/annotation/2973825-displaypriority}',defaultValue:{value:"undefined",computed:!0}},calloutOffsetX:{required:!1,tsType:{name:"number"},description:`An X offset that changes the annotation callout’s default placement.
@see {@link https://developer.apple.com/documentation/mapkitjs/mapkit/annotation/2973821-calloutoffset}`,defaultValue:{value:"0",computed:!1}},calloutOffsetY:{required:!1,tsType:{name:"number"},description:`An Y offset that changes the annotation callout’s default placement.
@see {@link https://developer.apple.com/documentation/mapkitjs/mapkit/annotation/2973821-calloutoffset}`,defaultValue:{value:"0",computed:!1}},calloutEnabled:{required:!1,tsType:{name:"boolean"},description:`A Boolean value that determines whether the map shows an annotation’s callout.
If the title is empty, the framework can’t show the standard callout even if property is true.
@see {@link https://developer.apple.com/documentation/mapkitjs/mapkit/annotation/2973820-calloutenabled}`,defaultValue:{value:"undefined",computed:!0}},calloutLeftAccessory:{required:!1,tsType:{name:"ReactNode"},description:`Returns an element to use as a custom accessory on the left side of the callout content area.

@see {@link https://developer.apple.com/documentation/mapkitjs/annotationcalloutdelegate/2991150-calloutleftaccessoryforannotatio}`,defaultValue:{value:"undefined",computed:!0}},calloutRightAccessory:{required:!1,tsType:{name:"ReactNode"},description:`Returns an element to use as a custom accessory on the right side of the callout content area.

@see {@link https://developer.apple.com/documentation/mapkitjs/annotationcalloutdelegate/2991151-calloutrightaccessoryforannotati}`,defaultValue:{value:"undefined",computed:!0}},calloutContent:{required:!1,tsType:{name:"ReactNode"},description:`Returns custom content for the callout bubble.

@see {@link https://developer.apple.com/documentation/mapkitjs/annotationcalloutdelegate/2991148-calloutcontentforannotation}`,defaultValue:{value:"undefined",computed:!0}},calloutElement:{required:!1,tsType:{name:"ReactNode"},description:`Returns an element representing a custom callout.

@see {@link https://developer.apple.com/documentation/mapkitjs/annotationcalloutdelegate/2991148-calloutcontentforannotation}`,defaultValue:{value:"undefined",computed:!0}}}};export{ee as A};
